<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Care Every Home{% endblock %}</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script>
    
    <!-- Google Fonts: Noto Sans and Noto Sans Thai -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&family=Noto+Sans+Thai&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body {
            font-family: 'Noto Sans', 'Noto Sans Thai', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Header with Navigation -->
    <header class="bg-[#fefefe] text-white p-3 shadow sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <!-- Logo -->
            <a href="{% url 'home' %}" class="flex items-center space-x-3">
                <img src="/media/products/Logo.png" alt="Care Every Home Logo" class="h-16">
                <span class="text-2xl font-bold text-[#155c94]">Care Every Home</span>
            </a>
            
            <!-- Hamburger Icon (visible on mobile) -->
            <button id="hamburger-btn" class="md:hidden text-black focus:outline-none" aria-expanded="false" aria-controls="nav-menu">
                <i id="hamburger-icon" class="fas fa-bars text-2xl"></i>
            </button>

            <!-- Navigation Menu -->
            <nav id="nav-menu" class="hidden md:flex md:items-center absolute md:static top-20 left-0 w-full bg-[#fefefe] shadow-md md:shadow-none p-4 md:p-0 transform -translate-y-full md:transform-none transition-transform duration-500 ease-in-out" aria-labelledby="hamburger-btn">
                <ul class="flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-2 md:justify-end items-center w-full">
                    <li>
                        <a href="{% url 'home' %}" 
                        class="text-black hover:text-[#155c94] px-4 py-2 rounded-md text-lg font-semibold flex items-center">
                        Home
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'product_list' %}" 
                        class="text-black hover:text-[#155c94] px-4 py-2 rounded-md text-lg font-semibold flex items-center">
                        Products
                        </a>
                    </li>
                    {% if user.is_authenticated %}
                        <li>
                            <a href="{% url 'favorite_list' %}" 
                            class="text-[#bb1615] hover:text-[#ff8da1] text-2xl px-4 py-2 flex items-center" title="Favorites">
                                <i class="fas fa-heart mr-2 text-3xl"></i>
                            </a>                          
                        </li>
                        <li>
                            <a href="{% url 'cart_list' %}" 
                            class="text-[#009aa6] hover:text-[#4db8a4] text-2xl px-4 py-2 flex items-center" title="Cart">
                                <i class="fas fa-shopping-cart mr-2 text-3xl"></i>
                            </a>
                        </li>
                        <li>
                            <a href="{% url 'user_profile' %}" 
                            class="text-[#155c94] hover:text-[#286a9e] text-2xl px-4 py-2 flex items-center">
                                <i class="fa-solid fa-user mr-2 text-3xl"></i>
                            </a>
                        </li>
                        <li>
                            <a href="{% url 'dashboard' %}" 
                            class="text-[#bb1615] hover:text-[#ff8da1] text-2xl px-4 py-2 flex items-center">
                                <i class="fa-solid fa-chart-line mr-2 text-3xl"></i>
                            </a>
                        </li>
                        <li>
                            <a href="{% url 'account_logout' %}" 
                            class="text-[#4db8a4] hover:text-[#155c94] text-2xl px-4 py-2 flex items-center" title="Log out">
                                <i class="fas fa-sign-out-alt mr-2 text-3xl"></i>
                            </a>
                        </li>
                    {% else %}
                        <li>
                            <a href="{% url 'account_login' %}" 
                            class="text-[#4db8a4] hover:text-[#155c94] text-2xl px-4 py-2 flex items-center" title="Log in">
                                <i class="fas fa-sign-in-alt mr-2 text-3xl"></i>
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </nav>          
        </div>
    </header>

    <!-- Main Content -->
    <main>
        {% block content %}
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-[#1f2937] text-white p-4">
        <div class="container mx-auto text-center">
            <p>Â© 2025 Care Every Home. All rights reserved.</p>
        </div>
    </footer>

    <!-- JavaScript for Hamburger Menu Toggle -->
    <script>
        document.getElementById('hamburger-btn').addEventListener('click', function () {
            const navMenu = document.getElementById('nav-menu');
            const icon = document.getElementById('hamburger-icon');
            navMenu.classList.toggle('hidden');
            navMenu.classList.toggle('translate-y-0');
            navMenu.classList.toggle('-translate-y-full');
            icon.classList.toggle('fa-bars');
            icon.classList.toggle('fa-times');
            this.setAttribute('aria-expanded', !navMenu.classList.contains('hidden'));
        });

        // Close menu when a link is clicked
        document.querySelectorAll('#nav-menu a').forEach(link => {
            link.addEventListener('click', () => {
                const navMenu = document.getElementById('nav-menu');
                const icon = document.getElementById('hamburger-icon');
                navMenu.classList.add('hidden');
                navMenu.classList.remove('translate-y-0');
                navMenu.classList.add('-translate-y-full');
                icon.classList.add('fa-bars');
                icon.classList.remove('fa-times');
                document.getElementById('hamburger-btn').setAttribute('aria-expanded', 'false');
            });
        });
    </script>
</body>
</html>